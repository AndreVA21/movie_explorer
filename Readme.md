##### Final Assignment
# Movie Explorer

## General description

This is a project that consists of exploring a set of movies and filtering them by certain sets of commands that will be explained later.

## Recommendation
- All initial configurations will be done via command line
- Recommended Python version 3.9
- Pycodestyle and Pytest are required.

## Application Description
- The application consists of a collection of utilities
- The user sends an initial configuration the application receives some initial - configuration, translates the initial information and returns a result
- The files this utility will be reading data from are:
 -   data
   - movies.csv
   - ratings.csv
   - tags.csv
 In these files you will find all the necessary information regarding the films
- The result files generated by the application will be in the following structure
 - output
   - requests.csv
   - 0871f013c7f945e8a9d965775556e559.json
   - abcd1f013c7f945e8a9d965775556e559.json
- Requests.csv
 The utility assigns a unique identifier to each request and aggregates the request information into a request.csv file (comma delimited file)
 - first field is the request unique identifier, 
 - second field contains the command name, arguments and values
 - third field is the datetime when we started processing the request
- Response
 Each response is saved in a json file for example 0871f013c7f945e8a9d965775556e559.json
 - where 0871f013c7f945e8a9d965775556e559 is a unique identifier for this request
 
 
 ## Arguments
 
   * \-\-help , \-h : Show this help message and exit
   * \-\-title **all** ,  \-t **all** : Command to filter all movies
   * \-\-title **TITLE** ,  \-t **TITLE**  : Title of a movie.
   * \-\-order **{asc,desc,ascendent,descendent}** ,  \-o **{asc,desc,ascendent,descendent}**  : Order to show the results. (asc|desc).
   * \-\-by **{title,release_date,count}** ,  \-by **{title,release_date,count}**  :  Property on which it is sorted
   * \-\-genre **GENRE** ,  \-g **GENRE**  :  Genre of the movies
   * \-\-release_data **{all}** ,  \-rd **{all}**  : Release date of the movies
   * \-\-tag **{all}** ,  \-tg **{all}**  : Tags of the movies
   * \-\-rating  **RATING ** ,  \-r **RATING **  : Rating of the movies
   * \-\-user **USER** ,  \-u **USER**  :  User's id.

## Functionality
### Feature 1 - Help
This command helps the user to visualize the parameters to be able to use the utilities

*Command*
```
python movies_explorer.py --help
```   
### Feature 2 - List all movies sorted by title or release_date in ascending or descending order
This command generates a list of all movies ordered by title or realease_date in ascending or descending order.

*Request example*
```
python movies_explorer --title all --order desc --by title
```
*Response example*
```json
{
    "request_id": "0871f013c7f945e8a9d965775556e559",
    "data": [
        {
            "title": "ABCDEFG",
            "release_date": 1934,
            "genres": ["acd", "xyz", "fgh"]
    },
    {
            "title": "OPQRST",
            "release_date": 1950,
            "genres": ["acd"]
    }
  ],
    "size": 2
}

```

### Feature 3 - List all the movies that the title begins with a specified Letter and that has a specific genre
This command generates a list of all the movies that start with a specific letter and have a specific genre
Accept only one gender

*Request example*
```
python3 movies_explorer --title T* --genre Animation
```

*Response example*
```json
{
    "request_id": "1171f013c7f945e8a9d965775556e559",
    "data": [
        {
            "title": "Taaaaaa",
            "release_date": 1934,
            "genres": ["Animation"]
        },
        {
            "title": "Tipy",
            "release_date": 1970,
            "genres": ["Animation"]
        },
        {
            "title": "Ted",
            "release_date": 1980,
            "genres": ["Animation"]
        }
    ],
    "size": 3
}
```
### Feature 4 - List all release dates for movie title  "Sabrina"
*Request example*
```
python3 movies_explorer --title Sabrina --release_date all
```
*Response example*
```json
{
    "request_id": "asss1f013c7f945e8a9d965775556e559",
    "data": [
        {
            "title": "Sabrina",
            "release_date": 1954,
            "genres": ["Comedy", "Romance"]
        },
        {
            "title": "Sabrina",
            "release_date": 1995,
            "genres": ["Comedy", "Romance"]
        }
    ],
    "size": 2
}
```

### Feature 5 - List all tags for movie title  "Home Alone 2"
*Request example*
```
python3 movies_explorer --title "Home Alone 2" --tag all
```
*Response example*
```json
{
    "request_id": "0871f013c7f945essss5775556e559",
    "data": [
        {
            "title": "Home Alone 2",
            "release_date": 1992,
            "genres": ["Children", "Comedy"],
            "tags": [
                {"tag":"family", "date_time": "Monday, September 25, 2006 9:40:36 PM"}, 
                {"tag":"funny", "date_time": "Monday, September 25, 2006 9:40:36 PM"}, 
                {"tag":"Macaulay Culkin", "date_time": "Monday, September 25, 2006 9:40:36 PM"}, 
                {"tag":"sequel", "date_time": "Monday, September 25, 2006 9:40:36 PM"}
            ]
        }
    ],
    "size": 1
}
```
### Feature 6 - List all movies with rating of 3.0
*Request example*
```
python3 movies_explorer --rating 3.0
```
*Response example*
```json
{
    "request_id": "abcd1f013c7f945e8a9d965775556e123",
    "data": [
        {
            "title": "Dummy title",
            "release_date": 1971,
            "genres": ["Documentary"],
            "ratings": [
            {
                "date_time": "Monday, September 25, 2006 9:40:36 PM"
                "rating": 3.0
            }]
        },
                       {
            "title": "Some title",
            "release_date": 1971,
            "genres": ["Documentary"],
            "ratings": [
            {
                "date_time": "Tuesday, September 26, 2006 9:40:36 PM"
                "rating": 3.0
            }]
        }
    ],
    "size": 2
}
```
### Feature 7 - Show all available genres (duplicate values are not allowed)
*Request example*
```
python3 movies_explorer â€“genres
```
*Response example*
```json
{
	"request_id": "0871f013c7f945e8a9d965775556e123",
	"data": ["Adventure", "Animation", "Childen", "Comedy" , "Fantasy" ],
	"size": 5
}
```
### Feature 8 - Movies rated by user
*Request example*
```
python3 movies_explorer --ratings all --user 1 
```
*Response example*
```json
{
    "request_id": "0871f013c7f945e8a9d965775556e559",
    "data": [
        {
            "title": "Documentary",
            "release_date": 1971,
            "genres": ["Documentary"],
            "ratings": [
            {
                "date_time": "Monday, September 25, 2006 9:40:36 PM"
                "rating": 4.5
            }]
        }
    ],
    "size": 1
}
```
## Pytest 
To run pytest, run the following comand:

*Request example*
```bash
$ python3 pytest
```
## Pep 8 Rules
To verify that the code complies with pep8 standards, run the following command:
*Request example*
```bash
$ pycodestyle --show-source --show-pep8 --max-line-length=100 ./test/. ./src/. movies_explorer.py
```

## Development team
* ### Miguel Gemio Quispe
* ### Nelson Delgado Colque
* ### Andre Arroyo Hinojosa
* ### Alejandra Maldonado